<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
		    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
		    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
		    
		     <mapper namespace="com.gang.start.bankbook.BankBookCommentDAO">
		     
		      <insert id="setReply" parameterType="BankBookCommentDTO">
         			INSERT INTO BB_COMMENT VALUES (BOARD_SEQ.NEXTVAL,#{bookNum},#{writer},#{contents},SYSDATE)
         		</insert>
         		
         		<select id="getReply" resultType="BankBookCommentDTO" parameterType="com.gang.start.util.CommentPager" >
         			SELECT * FROM
						(SELECT ROWNUM R ,C.* FROM
							(SELECT * FROM BB_COMMENT WHERE BOOKNUM = #{bookNum}  ORDER BY NUM DESC) C)
							WHERE R BETWEEN #{startRow} AND #{lastRow}
         		</select>
         		
         		<select id="getCommentListTotalCount" parameterType="com.gang.start.util.CommentPager" resultType="Long">
         			SELECT COUNT(NUM) FROM BB_COMMENT WHERE BOOKNUM = #{bookNum}
         		</select>
         		
		     </mapper>
    